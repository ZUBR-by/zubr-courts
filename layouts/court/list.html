{{ define "main" }}
{{partial "header" . }}
<div id="app">
    <div class="scene">
        <div class="section">
            <h1 class="txt-color-1 txt-size-34px txt-algn-c">
                Суды Беларуси
            </h1>
            <div class="courts-list-linetabs txt-algn-c scroll-x-auto txt-nowrap">
                <div class="inline-block">
                    <div class="line-tabs">
                        <a :class="{'tab-unit': true, 'active': activeTab === region}"
                           @click="changeTab(region)" v-for="(region, key) of map" :key="region">
                            <div>
                                {{ safeHTML `
                                {{ regions[region] }}
                                ` }}
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="section pdng-t-50px">
            <div class="courts-list-map-wrp">
                <court-map
                    :initial-region="activeTab"
                    ref="map" style="position:relative;overflow:hidden; width:100%; height:550px;"></court-map>
            </div>
        </div>
    </div>
    <div class="scene">

        {{ $range := slice "07" "06" "05" "04" "03" "02" "01"}}
        {{ range $region := $range}}
        <div v-show="activeTab === '{{$region}}'" class="section">
            <h2>
                {{index $.Site.Data.regions $region}}
            </h2>
            <div class="flex-row mil-flex-column">
                <div class="section size-50 mil-size-100">
                    <ul class="courts-list mrgn-t-30px">
                        {{ range $index, $element := $.Site.Data.courts }}
                        {{if eq (slicestr $index 0 2) $region}}
                        <li>
                            <h3>
                                <a class="txt-underline txt-size-18px" href='/court/{{$index}}'>{{$element.name}}</a>
                                <div class="txt-size-14px txt-color-2">{{$element.address}}</div>
                                <div class="txt-size-14px txt-color-3">0 р. / 0 базовых велечин</div>
                                <div class="txt-size-14px txt-color-3">0 Cуток адм. ареста</div>
                            </h3>
                        </li>
                        {{end}}
                        {{end}}
                    </ul>
                </div>
                <div class="section size-50 mil-size-100">
                    <ul class="courts-list mrgn-t-30px">
                        {{ range $index, $element := $.Site.Data.courts }}
                        {{if eq (slicestr $index 0 2) $region}}
                        <li>
                            <h3>
                                <a class="txt-underline txt-size-18px" href='/court/{{$index}}'>{{$element.name}}</a>
                                <div class="txt-size-14px txt-color-2">{{$element.address}}</div>
                                <div class="txt-size-14px txt-color-3">0 р. / 0 базовых велечин</div>
                                <div class="txt-size-14px txt-color-3">0 Cуток адм. ареста</div>
                            </h3>
                        </li>
                        {{end}}
                        {{end}}
                    </ul>
                </div>
            </div>
        </div>

        {{end}}
    </div>
</div>
{{ partial "footer" }}
{{ end }}
{{ define "js"}}
<script>
    var regions = {{ $.Site.Data.regions | jsonify  | safeJS}};
</script>
{{ $jsVendor := resources.Get "generated/js/chunk-courts-vendors.js" | fingerprint }}
<script src="{{ $jsVendor.Permalink }}"></script>
{{ $jsCurrent := resources.Get "generated/js/courts.js" | fingerprint }}
<script src="{{ $jsCurrent.Permalink }}"></script>
{{ $cssVendor := resources.Get "generated/css/chunk-court-vendors.css" | fingerprint }}
<link rel="stylesheet" href="{{$cssVendor.Permalink}}"/>
{{end}}
